<Window x:Class="CimianStatus.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Managed Software Update" 
        Height="300" 
        Width="480"
        WindowStyle="None"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterScreen"
        AllowsTransparency="False"
        Background="White"
        MouseLeftButtonDown="Window_MouseLeftButtonDown">
    
    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
    </Window.Resources>
    
    <Border Background="White" BorderThickness="1" BorderBrush="#DDDDDD">
        <Border.Effect>
            <DropShadowEffect Color="Black" Direction="270" ShadowDepth="3" BlurRadius="10" Opacity="0.2"/>
        </Border.Effect>
        
        <Grid Margin="30">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <Button Grid.Row="0" Content="âœ•" Click="Close_Click" Width="28" Height="28" FontFamily="Aptos" FontSize="14" Background="Transparent" BorderThickness="0" Foreground="#999999" Cursor="Hand" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,-10,-10,10"/>
            
            <TextBlock Grid.Row="1" Text="Managed Software Update" FontFamily="Aptos" FontSize="24" FontWeight="SemiBold" Foreground="#333333" TextAlignment="Center" HorizontalAlignment="Center" Margin="0,10,0,25"/>

            <!-- Icon and main content area -->
            <StackPanel Grid.Row="2" Margin="0,0,0,20">
                <!-- Icon at top -->
                <Image Source="icon.png" Width="64" Height="64" Margin="0,0,0,20" HorizontalAlignment="Center" RenderOptions.BitmapScalingMode="HighQuality"/>
                
                <!-- Status messages -->
                <TextBlock Text="{Binding StatusText}" FontFamily="Aptos" FontSize="14" FontWeight="Normal" Foreground="{Binding StatusBrush}" TextAlignment="Center" Margin="0,0,0,12" TextWrapping="Wrap"/>
                <TextBlock Text="{Binding DetailText}" FontFamily="Aptos" FontSize="12" FontWeight="Normal" Foreground="#666666" TextAlignment="Center" Margin="0,0,0,20" TextWrapping="Wrap"/>
                <ProgressBar Value="{Binding ProgressValue}" Minimum="0" Maximum="100" Height="6" Margin="20,0,20,0" Background="#F0F0F0" Foreground="{Binding ProgressBrush}" BorderThickness="0" Visibility="{Binding ShowProgress, Converter={StaticResource BooleanToVisibilityConverter}}"/>
                
                <!-- Log area (5x taller) -->
                <ScrollViewer Height="150" Margin="0,20,0,0" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled" Background="#F9F9F9" BorderThickness="1" BorderBrush="#E0E0E0">
                    <TextBlock Text="{Binding LogText}" FontFamily="Consolas" FontSize="10" Foreground="#555555" Margin="10" TextWrapping="Wrap"/>
                </ScrollViewer>
            </StackPanel>

            <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10,0,0">
                <Button Content="Show Logs" Click="ShowLogs_Click" Width="100" Height="36" FontFamily="Aptos" FontSize="12" FontWeight="Normal" Background="#F8F8F8" Foreground="#333333" BorderThickness="1" BorderBrush="#DDDDDD" Cursor="Hand" Margin="0,0,10,0"/>
                <Button Content="{Binding RunButtonText}" Click="RunNow_Click" Width="100" Height="36" FontFamily="Aptos" FontSize="12" FontWeight="SemiBold" Background="#0078D4" Foreground="White" BorderThickness="0" Cursor="Hand" IsEnabled="{Binding CanRunUpdate}"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>
